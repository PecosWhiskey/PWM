<!--
<ion-content>

  <form #userForm="ngForm">

    <ion-item>
      <ion-input type="text" name="idVolo" [(ngModel)]="idVolo" placeholder="ID volo" ngDefaultControl  required></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="text" name="partenza" [(ngModel)]="partenza" placeholder="Aeroporto di partenza (MXP ad esempio)" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="text" name="destinazione" [(ngModel)]="destinazione" placeholder="Aeroporto di destinazione (FCA ad esempio)" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-item>
      <ion-datetime presentation="date" name="data" [(ngModel)]="data" ngDefaultControl></ion-datetime>
    </ion-item>

    <ion-item>
      <ion-input type="text" name="oraPartenza" [(ngModel)]="oraPartenza" placeholder="Orario di partenza" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="text" name="oraArrivo" [(ngModel)]="oraArrivo" placeholder="Orario di arrivo" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="number" name="prezzo" [(ngModel)]="prezzo" placeholder="Prezzo" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="number" name="posti disponibili" [(ngModel)]="postiDisponibili" placeholder="numero di posti sull'aereo" ngDefaultControl required></ion-input>
    </ion-item>

    <ion-button type="submit" [disabled]="!userForm.valid" (click)="CreaVolo()">Crea Volo</ion-button>
    <ion-button type="submit" [disabled]="!userForm.valid" (click)="ModificaVolo()">Modifica Volo</ion-button>

  </form>
</ion-content>
-->

<ion-header [translucent]="true" class="custom-header">
  <ion-toolbar>
    <div class="header-content">
      <div class="logo-section">
        <h1>VayGo</h1>
        <span class="logo-subtitle">Airlines</span>
      </div>
      <div class="header-actions">
        <ion-button fill="clear" size="small" href="tabs/tab3">
          <ion-icon name="person-outline"></ion-icon>
        </ion-button>
      </div>
    </div>
  </ion-toolbar>
</ion-header>


<ion-content>
  <div class="gestione-voli-container">
  
  <!-- Menu di Navigazione Voli -->
  <div class="voli-navigation-menu vaygo-fade-in">
    <div class="menu-header">
      <h2>Gestione Voli VayGo</h2>   
    </div>
    <div class="menu-buttons">
      <ion-button 
        class="menu-button active" 
        fill="clear"
        routerLink="/gestione-voli"
        routerLinkActive="active">
        <ion-icon name="create-outline"></ion-icon>
        Gestisci Voli
      </ion-button>
      <ion-button 
        class="menu-button" 
        fill="clear"
        [routerLink]="'/voli-disponibili'">
        <ion-icon name="list-outline"></ion-icon>
        Visualizza Voli
      </ion-button>
      <ion-button 
        class="menu-button" 
        fill="clear"
        [routerLink]="'/prenotazioni'">
        <ion-icon name="list-outline"></ion-icon>
        Prenotazioni ricevute
      </ion-button>
    </div>
  </div>

  <!-- Form Container -->
  <div class="form-container vaygo-fade-in">
    <div class="form-header">
      <h1>Gestione Voli</h1>
      <p>Crea o modifica i voli della flotta VayGo Airlines</p>
    </div>

    <form #userForm="ngForm" class="volo-form">
      
      <!-- Sezione Identificazione Volo -->
      <div class="form-section">
        <h3 class="section-title">Identificazione Volo</h3>
        <div class="input-group full-width">
          <ion-item class="vaygo-input" [class.item-has-value]="idVolo">
            <ion-input 
              type="text" 
              name="idVolo" 
              [(ngModel)]="idVolo" 
              placeholder="ID volo (es. VG001, VG002...)" 
              ngDefaultControl 
              required>
            </ion-input>
          </ion-item>
        </div>
      </div>

      <!-- Sezione Destinazioni -->
      <div class="form-section">
        <h3 class="section-title">Destinazioni</h3>
        <div class="input-group">
          <ion-item class="vaygo-input" [class.item-has-value]="partenza">
            <ion-input 
              type="text" 
              name="partenza" 
              [(ngModel)]="partenza" 
              placeholder="Aeroporto di partenza (es. MXP)" 
              ngDefaultControl 
              required>
            </ion-input>
          </ion-item>
          <ion-item class="vaygo-input" [class.item-has-value]="destinazione">
            <ion-input 
              type="text" 
              name="destinazione" 
              [(ngModel)]="destinazione" 
              placeholder="Aeroporto di destinazione (es. FCA)" 
              ngDefaultControl 
              required>
            </ion-input>
          </ion-item>
        </div>
      </div>

      <!-- Sezione Data e Orari -->
      <div class="form-section">
        <h3 class="section-title">Pianificazione Temporale</h3>
        <div class="input-group full-width">
          <ion-item class="vaygo-input datetime-item" [class.item-has-value]="data">
            <ion-datetime 
              presentation="date" 
              name="data" 
              [(ngModel)]="data" 
              ngDefaultControl
              placeholder="Seleziona la data del volo">
            </ion-datetime>
          </ion-item>
        </div>
        <div class="input-group">
          <ion-item class="vaygo-input time-item" [class.item-has-value]="oraPartenza">
            <ion-input 
              type="time" 
              name="oraPartenza" 
              [(ngModel)]="oraPartenza" 
              placeholder="Orario di partenza" 
              ngDefaultControl 
              required>
            </ion-input>
          </ion-item>
          <ion-item class="vaygo-input time-item" [class.item-has-value]="oraArrivo">
            <ion-input 
              type="time" 
              name="oraArrivo" 
              [(ngModel)]="oraArrivo" 
              placeholder="Orario di arrivo" 
              ngDefaultControl 
              required>
            </ion-input>
          </ion-item>
        </div>
      </div>

      <!-- Sezione Dettagli Commerciali -->
      <div class="form-section">
        <h3 class="section-title">Dettagli Commerciali</h3>
        <div class="input-group">
          <ion-item class="vaygo-input" [class.item-has-value]="prezzo > 0">
            <ion-input 
              type="number" 
              name="prezzo" 
              [(ngModel)]="prezzo" 
              placeholder="Prezzo del biglietto (â‚¬)" 
              ngDefaultControl 
              required
              min="0"
              step="0.01">
            </ion-input>
          </ion-item>
          <ion-item class="vaygo-input" [class.item-has-value]="postiDisponibili > 0">
            <ion-input 
              type="number" 
              name="postiDisponibili" 
              [(ngModel)]="postiDisponibili" 
              placeholder="Posti disponibili" 
              ngDefaultControl 
              required
              min="1"
              max="500">
            </ion-input>
          </ion-item>
        </div>
      </div>

      <!-- Pulsanti di Azione -->
      <div class="action-buttons">
        <ion-button 
          type="submit" 
          class="primary-btn"
          [disabled]="!userForm.valid" 
          (click)="CreaVolo()">
          <ion-icon name="add-circle-outline" slot="start"></ion-icon>
          Crea Volo
        </ion-button>

        <ion-alert
        [isOpen]="isAlertOpenCreated"
        header="Creazione avvenuta con successo!"
        message="E' possibile visualizzare il volo appena creato nella pagina 'Visualizza Voli'"
        [buttons]="alertButtons"
        (didDismiss)="setOpenCreated(false)"
        ></ion-alert>

        <ion-button 
          type="submit" 
          class="secondary-btn"
          [disabled]="!userForm.valid" 
          (click)="ModificaVolo()">
          <ion-icon name="create-outline" slot="start"></ion-icon>
          Modifica Volo
        </ion-button>

        <ion-alert
        [isOpen]="isAlertOpenModified"
        header="Modifica avvenuta con successo!"
        message="E' possibile visualizzare il volo appena modificato nella pagina 'Visualizza Voli'"
        [buttons]="alertButtons"
        (didDismiss)="setOpenModified(false)"
        ></ion-alert>

      </div>

    </form>

    <!-- Messaggi di Feedback -->
    <div class="message-container" *ngIf="creaVoloEsito">
      <div 
        [class.success-message]="!creaVoloEsito.includes('error') && !creaVoloEsito.includes('Errore')"
        [class.error-message]="creaVoloEsito.includes('error') || creaVoloEsito.includes('Errore')">
        {{ creaVoloEsito }}
      </div>
    </div>

  </div>

  </div>
</ion-content>