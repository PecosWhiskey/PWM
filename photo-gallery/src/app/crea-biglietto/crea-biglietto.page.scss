// Page Container
.crea-biglietto-page {
    ion-content {
      --background: var(--ion-color-light);
    }
  
    // Form Container
    form {
      padding: var(--ion-padding);
      max-width: 600px;
      margin: 0 auto;
    }
  
    // Ion-Item Input Styling - applicato direttamente agli ion-item del form
    ion-item {
      --background: var(--ion-color-step-50, #ffffff);
      --border-radius: 12px;
      --padding-start: 24px;
      --padding-end: 24px;
      --min-height: 60px;
      border: 2px solid var(--ion-color-step-150, #e2e8f0);
      margin-bottom: 16px;
      border-radius: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(var(--ion-color-dark-rgb, 0, 0, 0), 0.08);
      
      &.item-has-focus {
        border-color: var(--ion-color-primary);
        box-shadow: 0 0 0 3px rgba(var(--ion-color-primary-rgb), 0.15);
        transform: translateY(-1px);
      }
      
      &.item-has-value {
        border-color: var(--ion-color-success);
      }
      
      &.item-invalid {
        border-color: var(--ion-color-danger);
        box-shadow: 0 0 0 3px rgba(var(--ion-color-danger-rgb), 0.15);
      }
      
      ion-input {
        --color: var(--ion-color-dark);
        --placeholder-color: var(--ion-color-medium);
        font-weight: 500;
        font-size: 16px;
        
        input {
          font-family: inherit;
        }
      }
      
      ion-label {
        color: var(--ion-color-primary);
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 4px;
      }
    }
  
    // Purchase Button
    ion-button {
      --background: var(--ion-color-primary);
      --color: var(--ion-color-primary-contrast);
      --border-radius: 16px;
      --padding-top: 20px;
      --padding-bottom: 20px;
      font-size: 18px;
      font-weight: 700;
      text-transform: none;
      letter-spacing: 0.3px;
      box-shadow: 0 8px 32px rgba(var(--ion-color-primary-rgb), 0.4);
      margin: 32px 0 24px;
      width: 100%;
      height: 56px;
      transition: all 0.3s ease;
      
      &:hover:not([disabled]) {
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(var(--ion-color-primary-rgb), 0.5);
      }
      
      &[disabled] {
        --background: var(--ion-color-medium);
        opacity: 0.6;
        box-shadow: none;
        transform: none;
      }
  
      ion-spinner {
        margin-right: 8px;
      }
    }
  
    // Responsive adjustments
    @media (max-width: 768px) {
      form {
        padding: 12px;
      }
      
      ion-item {
        --padding-start: 16px;
        --padding-end: 16px;
        margin-bottom: 12px;
      }
    }
  }
  
  // Dark mode support - CSS media query
  @media (prefers-color-scheme: dark) {
    .crea-biglietto-page {
      ion-content {
        --background: var(--ion-color-dark);
      }
  
      ion-item {
        --background: var(--ion-color-step-100);
        border-color: var(--ion-color-step-200);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        
        &.item-has-focus {
          box-shadow: 0 0 0 3px rgba(var(--ion-color-primary-rgb), 0.25);
        }
        
        &.item-invalid {
          box-shadow: 0 0 0 3px rgba(var(--ion-color-danger-rgb), 0.25);
        }
  
        ion-input {
          --color: var(--ion-color-light);
          --placeholder-color: var(--ion-color-medium-tint);
        }
  
        ion-label {
          color: var(--ion-color-primary-tint);
        }
      }
  
      ion-button {
        box-shadow: 0 8px 32px rgba(var(--ion-color-primary-rgb), 0.6);
        
        &:hover:not([disabled]) {
          box-shadow: 0 12px 40px rgba(var(--ion-color-primary-rgb), 0.7);
        }
      }
    }
  }
  
  // Force dark mode support for Ionic's class-based dark mode
  :host-context(.ion-palette-dark) {
    .crea-biglietto-page {
      ion-content {
        --background: var(--ion-color-dark);
      }
  
      ion-item {
        --background: var(--ion-color-step-100);
        border-color: var(--ion-color-step-200);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        
        &.item-has-focus {
          box-shadow: 0 0 0 3px rgba(var(--ion-color-primary-rgb), 0.3);
        }
        
        &.item-invalid {
          box-shadow: 0 0 0 3px rgba(var(--ion-color-danger-rgb), 0.3);
        }
  
        ion-input {
          --color: var(--ion-color-light);
          --placeholder-color: var(--ion-color-medium-tint);
        }
  
        ion-label {
          color: var(--ion-color-primary-tint);
        }
      }
  
      ion-button {
        box-shadow: 0 8px 32px rgba(var(--ion-color-primary-rgb), 0.6);
        
        &:hover:not([disabled]) {
          box-shadow: 0 12px 40px rgba(var(--ion-color-primary-rgb), 0.7);
        }
      }
    }
  }
  
  // Additional styling for better UX
  .crea-biglietto-page {
    // Smooth transitions for theme switching
    * {
      transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
    }
  
    // Focus outline removal for better custom focus styles
    ion-item ion-input {
      &:focus, &:focus-visible {
        outline: none;
      }
    }
  
    // Form validation styling
    form.ng-submitted {
      ion-item {
        &.ng-invalid {
          border-color: var(--ion-color-danger);
          animation: shake 0.5s ease-in-out;
        }
      }
    }
  }
  
  // Shake animation for invalid fields
  @keyframes shake {
    0%, 20%, 40%, 60%, 80% {
      transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
      transform: translateX(-5px);
    }
  }